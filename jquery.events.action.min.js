/*
 Copyright 2010 Enideo. Released under dual MIT and GPL licenses.
*/
(function(b){b.event.special.action={setup:function(a){b(this).bind("mousedown.action keypress.action",b.event.special.action.handler);"autotab"in a&&a.autotab===true&&b(this).not("*[tabindex]").attr("tabindex",0)},teardown:function(){b(this).unbind("mousedown.action keypress.action",b.event.special.action.handler)},handler:function(a){var d=this,e=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(a.type=="mousedown"){if(a.which==1||a.which==2)b(document).one("mouseup.action",function(c){if(c.target==
d||b.contains(d,c.target)){c.type="action";c.currentTarget=d;c.primary=!(e||c.which==2);b.event.handle.apply(d,arguments)}})}else if(a.type=="keypress"&&a.which==13){a.type="action";a.primary=!e;b.event.handle.apply(d,arguments)}}}})(jQuery);
